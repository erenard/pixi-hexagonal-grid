!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ngraphPath=t():e.ngraphPath=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t){function r(e,t){if(!(this instanceof r))return new r(e,t);if(Array.isArray(e)||(t=e,e=[]),t=t||{},this.data=e||[],this.length=this.data.length,this.compare=t.compare||i,this.setNodeId=t.setNodeId||o,0<this.length)for(var n=this.length>>1;0<=n;n--)this._down(n);if(t.setNodeId)for(n=0;n<this.length;++n)this.setNodeId(this.data[n],n)}function o(){}function i(e,t){return e-t}(e.exports=r).prototype={push:function(e){this.data.push(e),this.setNodeId(e,this.length),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this.setNodeId(this.data[0],0),this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},updateItem:function(e){this._down(e),this._up(e)},_up:function(e){for(var t=this.data,n=this.compare,r=this.setNodeId,o=t[e];0<e;){var i=e-1>>1,a=t[i];if(0<=n(o,a))break;r(t[e]=a,e),e=i}r(t[e]=o,e)},_down:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,o=t[e],i=this.setNodeId;e<r;){var a=1+(e<<1),d=a+1,s=t[a];if(d<this.length&&n(t[d],s)<0&&(s=t[a=d]),0<=n(s,o))break;i(t[e]=s,e),e=a}i(t[e]=o,e)}}},function(e,t){e.exports={l2:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},l1:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.abs(n)+Math.abs(r)}}},function(e,t){var n=[];"function"==typeof Object.freeze&&Object.freeze(n),e.exports={heuristic:function(){return 0},distance:function(){return 1},compareFScore:function(e,t){return e.fScore-t.fScore},NO_PATH:n,setHeapIndex:function(e,t){e.heapIndex=t},setH1:function(e,t){e.h1=t},setH2:function(e,t){e.h2=t},compareF1Score:function(e,t){return e.f1-t.f1},compareF2Score:function(e,t){return e.f2-t.f2}}},function(e,t){function o(e){this.node=e,this.parent=null,this.closed=!1,this.open=0,this.distanceToSource=Number.POSITIVE_INFINITY,this.fScore=Number.POSITIVE_INFINITY,this.heapIndex=-1}e.exports=function(){var n=0,r=[];return{createNewState:function(e){var t=r[n];return t?(t.node=e,t.parent=null,t.closed=!1,t.open=0,t.distanceToSource=Number.POSITIVE_INFINITY,t.fScore=Number.POSITIVE_INFINITY,t.heapIndex=-1):(t=new o(e),r[n]=t),n++,t},reset:function(){n=0}}}},function(e,t,n){e.exports={aStar:n(5),aGreedy:n(6),nba:n(7)}},function(e,t,n){e.exports=function(c,e){var f=(e=e||{}).oriented,h=e.heuristic;h||(h=N.heuristic);var p=e.distance;p||(p=N.distance);var I=r();return{find:function(e,t){var n=c.getNode(e);if(!n)throw new Error("fromId is not defined in this graph: "+e);var o=c.getNode(t);if(!o)throw new Error("toId is not defined in this graph: "+t);I.reset();var i,a=new Map,d=new l({compare:N.compareFScore,setNodeId:N.setHeapIndex}),r=I.createNewState(n);a.set(e,r),r.fScore=h(n,o),r.distanceToSource=0,d.push(r),r.open=1;for(;0<d.length;){if(i=d.pop(),s=o,i.node===s)return v(i);i.closed=!0,c.forEachLinkedNode(i.node.id,u,f)}var s;return g;function u(e,t){var n=a.get(e.id);if(n||(n=I.createNewState(e),a.set(e.id,n)),!n.closed){0===n.open&&(d.push(n),n.open=1);var r=i.distanceToSource+p(e,i.node,t);r>=n.distanceToSource||(n.parent=i,n.distanceToSource=r,n.fScore=r+h(n.node,o),d.updateItem(n.heapIndex))}}}}};var l=n(0),r=n(3),o=n(1),N=n(2),g=N.NO_PATH;function v(e){for(var t=[e.node],n=e.parent;n;)t.push(n.node),n=n.parent;return t}e.exports.l2=o.l2,e.exports.l1=o.l1},function(e,t,n){e.exports=function(v,e){var S=(e=e||{}).oriented,m=e.heuristic;m||(m=x.heuristic);var T=e.distance;T||(T=x.distance);var w=r();return{find:function(e,t){var s=v.getNode(e);if(!s)throw new Error("fromId is not defined in this graph: "+e);var u=v.getNode(t);if(!u)throw new Error("toId is not defined in this graph: "+t);if(s===u)return[s];w.reset();var n=S?function(e,t){if(l===_){if(t.fromId===d.node.id)return g(e,t,d)}else if(l===O&&t.toId===d.node.id)return g(e,t,d)}:function(e,t){return g(e,t,d)},c=new Map,r=new b({compare:x.compareFScore,setNodeId:x.setHeapIndex}),o=new b({compare:x.compareFScore,setNodeId:x.setHeapIndex}),i=w.createNewState(s);c.set(e,i),i.fScore=m(s,u),i.distanceToSource=0,r.push(i),i.open=_;var a=w.createNewState(u);a.fScore=m(u,s),a.distanceToSource=0,o.push(a),a.open=O;var f,h,p=Number.POSITIVE_INFINITY,I=r,l=_;for(;0<r.length&&0<o.length;){var d=(I=r.length<o.length?(l=_,r):(l=O,o)).pop();if(d.closed=!0,!(d.distanceToSource>p)&&(v.forEachLinkedNode(d.node.id,n),f&&h))return N(f,h)}return y;function N(e,t){for(var n=[],r=e;r;)n.push(r.node),r=r.parent;for(var o=t;o;)n.unshift(o.node),o=o.parent;return n}function g(e,t,n){var r=c.get(e.id);if(r||(r=w.createNewState(e),c.set(e.id,r)),!r.closed)if(function(e){var t=e.open;if(t&&t!==l)return!0;return!1}(r)){var o=r.distanceToSource+n.distanceToSource;o<p&&(f=r,h=n,p=o)}else{var i=n.distanceToSource+T(r.node,n.node,t);if(!(i>=r.distanceToSource)){var a=l===_?u:s,d=i+m(r.node,a);p<=d||(r.fScore=d,0===r.open&&(I.push(r),I.updateItem(r.heapIndex),r.open=l),r.parent=n,r.distanceToSource=i)}}}}}};var b=n(0),r=n(3),o=n(1),x=n(2),_=1,O=2,y=x.NO_PATH;e.exports.l2=o.l2,e.exports.l1=o.l1},function(e,t,n){e.exports=function(m,e){var T=(e=e||{}).oriented,w=e.quitFast,b=e.heuristic;b||(b=y.heuristic);var x=e.distance;x||(x=y.distance);var _=o();return{find:function(e,t){var i=m.getNode(e);if(!i)throw new Error("fromId is not defined in this graph: "+e);var a=m.getNode(t);if(!a)throw new Error("toId is not defined in this graph: "+t);_.reset();var d,n=T?function(e,t){if(t.fromId===I.node.id)return v(e,t)}:v,r=T?function(e,t){if(t.toId===I.node.id)return S(e,t)}:S,s=new Map,u=new O({compare:y.compareF1Score,setNodeId:y.setH1}),c=new O({compare:y.compareF2Score,setNodeId:y.setH2}),f=Number.POSITIVE_INFINITY,o=_.createNewState(i);s.set(e,o),o.g1=0;var h=b(i,a);o.f1=h,u.push(o);var p=_.createNewState(a);s.set(t,p),p.g2=0;var I,l=h;p.f2=l,c.push(p);for(;c.length&&u.length&&(u.length<c.length?N():g(),!w||!d););return function(e){if(!e)return P;var t=[e.node],n=e.p1;for(;n;)t.push(n.node),n=n.p1;var r=e.p2;for(;r;)t.unshift(r.node),r=r.p2;return t}(d);function N(){(I=u.pop()).closed||(I.closed=!0,I.f1<f&&I.g1+l-b(i,I.node)<f&&m.forEachLinkedNode(I.node.id,n),0<u.length&&(h=u.peek().f1))}function g(){(I=c.pop()).closed||(I.closed=!0,I.f2<f&&I.g2+h-b(I.node,a)<f&&m.forEachLinkedNode(I.node.id,r),0<c.length&&(l=c.peek().f2))}function v(e,t){var n=s.get(e.id);if(n||(n=_.createNewState(e),s.set(e.id,n)),!n.closed){var r=I.g1+x(I.node,e,t);r<n.g1&&(n.g1=r,n.f1=r+b(n.node,a),n.p1=I,n.h1<0?u.push(n):u.updateItem(n.h1));var o=n.g1+n.g2;o<f&&(f=o,d=n)}}function S(e,t){var n=s.get(e.id);if(n||(n=_.createNewState(e),s.set(e.id,n)),!n.closed){var r=I.g2+x(I.node,e,t);r<n.g2&&(n.g2=r,n.f2=r+b(i,n.node),n.p2=I,n.h2<0?c.push(n):c.updateItem(n.h2));var o=n.g1+n.g2;o<f&&(f=o,d=n)}}}}};var O=n(0),r=n(1),y=n(2),o=n(8),P=y.NO_PATH;e.exports.l2=r.l2,e.exports.l1=r.l1},function(e,t){function o(e){this.node=e,this.p1=null,this.p2=null,this.closed=!1,this.g1=Number.POSITIVE_INFINITY,this.g2=Number.POSITIVE_INFINITY,this.f1=Number.POSITIVE_INFINITY,this.f2=Number.POSITIVE_INFINITY,this.h1=-1,this.h2=-1}e.exports=function(){var n=0,r=[];return{createNewState:function(e){var t=r[n];t?(t.node=e,t.p1=null,t.p2=null,t.closed=!1,t.g1=Number.POSITIVE_INFINITY,t.g2=Number.POSITIVE_INFINITY,t.f1=Number.POSITIVE_INFINITY,t.f2=Number.POSITIVE_INFINITY,t.h1=-1,t.h2=-1):(t=new o(e),r[n]=t);return n++,t},reset:function(){n=0}}}}])});